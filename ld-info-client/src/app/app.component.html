<div class="container">
  <hr />
  <div class="col-xs-12 col-md-6 col-md-offset-3">
    <button class="btn btn-primary" (click)="onRegenerateUsers()">Regenerate Data</button>
  </div>
  <div class="row">
    <div class="col-xs-12 col-md-6 col-md-offset-3">
      <hr />
      <form #timelogParamsForm="ngForm" (click)="onFetchFilter(timelogParamsForm.value)">
        <div class="form-group">
          <label for="fromDate">Date From</label>
          <input type="date" class="form-control" id="fromDate" ngModel name="fromDate" #fromDateInput />
        </div>
        <div class="form-group">
          <label for="toDate">Date To</label>
          <input type="date" class="form-control" id="toDate" ngModel name="toDate" #toDateInput />
        </div>
        <button class="btn btn-primary" type="submit">
          Search
        </button>
      </form>
    </div>
  </div>
  <hr />
  <div class="row">
    <div class="col-md-6 left-side-home-outer">
      <p *ngIf="loadedTimelogs.length == 0 && !isTimelogsFetching">No timelogs available!</p>
      <ul class="list-group" *ngIf="loadedTimelogs.length > 0 && !isTimelogsFetching">
        <li class="list-group-item" *ngFor="let timelog of loadedTimelogs">
          <h4 class="list-group-item-heading">Email: {{ timelog.userEmail }}</h4>
          <p class="list-group-item-text">First name: {{ timelog.userFirstName }}</p>
          <p class="list-group-item-text">Last name: {{ timelog.userLastName }}</p>
          <p class="list-group-item-text">Project name: {{ timelog.projectName }}</p>
          <p class="list-group-item-text">Date: {{ timelog.date.split('T')[0] }}</p>
          <p class="list-group-item-text">Worked hours: {{ timelog.hours }}</p>
        </li>
      </ul>
      <p *ngIf="isTimelogsFetching && !timeLogError">Loading...</p>
      <div class="alert alert-danger" *ngIf="timeLogError">
        <h1>An Error Occurred!</h1>
        <p>{{ error }}</p>
        <button class="btn btn-danger" (click)="onHandleError()">Okay</button>
      </div>
    </div>

    <div class="col-md-6 left-right-home-outer">
      <p *ngIf="loadedTopUsers.length == 0 && !isUsersFetching">No users available!</p>
      <ul class="list-group" *ngIf="loadedTopUsers.length > 0 && !isUsersFetching">
        <li class="list-group-item" *ngFor="let user of loadedTopUsers">
          <h4 class="list-group-item-heading">Email: {{ user.email }}</h4>
          <p class="list-group-item-text">First name: {{ user.firstName }}</p>
          <p class="list-group-item-text">Last name: {{ user.lastName }}</p>
          <p class="list-group-item-text">Worked hours: {{ user.workedHours }}</p>
        </li>
      </ul>
      <p *ngIf="isUsersFetching && !userError">Loading...</p>
      <div class="alert alert-danger" *ngIf="userError">
        <h1>An Error Occurred!</h1>
        <p>{{ error }}</p>
        <button class="btn btn-danger" (click)="onHandleError()">Okay</button>
      </div>
    </div>
  </div>
</div>